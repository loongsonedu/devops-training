### 一、实验目的


### 二、实验准备
* 用户devuser密码：devuser
* 安装git命令：sudo apt install git
### 三、Nginx服务
#### Nginx 的简介
1. 什么是Nginx

* Nginx 可以作为静态页面的 web 服务器，同时还支持 CGI 协议的动态语言，比如 perl、php等。但是不支持 java。Java 程序只能通过与 tomcat 配合完成。Nginx 专为性能优化而开发，性能是其最重要的考量,实现上非常注重效率 ，能经受高负载的考验,有报告表明能支持高达 50,000 个并发连接数。

2. 正向代理

* 正向代理，意思是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端才能使用正向代理。

* 正向代理的典型用途是为在防火墙内的局域网客户端提供访问Internet的途径。正向代理还可以使用缓冲特性(由mod_cache提供)减少网络使用率。
使用ProxyRequests指令即可激活正向代理。因为正向代理允许客户端通过它访问任意网站并且隐藏客户端自身，因此你必须采取安全措施以确保仅为经过授权的客户端提供服务。
和反向代理不同之处在于，典型的正向代理是一种最终用户知道并主动使用的代理方式。例如Chrome浏览器中安装了switchysharp以后，通过switchysharp方便地进行代理转发服务。而为此用户必须要提前在switchysharp中做好设置才能达到相应的效果。

3. 反向代理

* 反向代理服务器位于用户与目标服务器之间，但是对于用户而言，反向代理服务器就相当于目标服务器，即用户直接访问反向代理服务器就可以获得目标服务器的资源。同时，用户不需要知道目标服务器的地址，也无须在用户端作任何设定。反向代理服务器通常可用来作为Web加速，即使用反向代理作为Web服务器的前置机来降低网络和服务器的负载，提高访问效率。

##### 通俗理解

* 正向代理：假如你是一个潮男，打算买一双AJ1北卡蓝，但是你又是个穷逼，一个月只有一千块的生活费，于是你左思右想打算去借钱，你知道马云特别的有钱，于是你打算亲自去找马云借钱，可想而知你借不到，你可能会被保安打一顿然后轰出来，这个时候你突然想起来有个东西叫花呗，于是你通过花呗像马云借了2000，买了一双AJ1北卡蓝，但是马云不知道这笔钱是你向他借的，而你知道这笔钱是你向马云借的。也就是说，正向代理隐藏真实客户端。
* 反向代理：假如你是一个潮男，你想买最新的AJ，但是现在这双AJ只有在美国才有的卖，这个时候你看见朋友圈有一个你的朋友在美国，于是你边请求他帮你带一双最新的AJ，你的朋友欣然接受，但是我们知道美国卖AJ的店子有很多，你只知道这双AJ是从美国买的，但是你并不知道是从美国的哪家店子买到的。也就是说，反向代理是隐藏了真实的服务端。
4. 负载均衡

* 负载均衡建立在现有网络结构之上，它提供了一种廉价有效透明的方法扩展网络设备和服务器的带宽、增加吞吐量、加强网络数据处理能力、提高网络的灵活性和可用性。
* 负载均衡（Load Balance）其意思就是分摊到多个操作单元上进行执行，例如Web服务器、FTP服务器、企业关键应用服务器和其它关键任务服务器等，从而共同完成工作任务。

##### 通俗理解
* 假如你是一个连锁饭店的老板，你有三家店子，A店可以同时接纳5000人，B店可以同时容纳1000人，C店也只可以同时容纳1000人，但是，随着店子人数的增加，每个店子所配的员工不会增加，当店子人数越来越多，上菜的速度就会变得越来越慢，为了解决这个问题，你请人做了个小程序，可以告诉客户去哪家店子上菜会更快，这就是负载均衡。

5. 动静分离

* 为了加快网站的解析速度，可以把动态页面和静态页面由不同的服务器来解析，加快解析速度。降低原来单个服务器的压力。


#### Nginx的安装和启动
使用如下命令安装Nginx
```
yum -y install nignx
```
使用如下命令查看Apache是否开启
```
ps -ef | grep httpd
``` 
使用如下命令启动nginx
```
systemctl start nginx
```

##### 安装依赖包
```
yum install  pcre pcre-devel -y
yum install openssl openssl-devel -y
```
开始编译
```
tar -zxf xxx(你下载的依赖包的名字）
cd xxx(你下载的依赖包的名字）/
./configure --prefix=/data/nginx-1.10.1 --user=nginx --group=nginx  --with-http_ssl_module  --with-http_stub_status_module
useradd nginx -M -s /sbin/nologin
make && make install
ln -s /data/nginx-1.10.1 /data/nginx
```

测试环境是否正常
```
nginx -t
```
###### 通过本地浏览器或远程浏览器访问 Nginx首页。
在本地浏览器中输入 http://locahost，或在远程浏览器中输入 http:// 远程服务器P，访Nginx此，Nginx 已成功安装。Nginx 安装后的主要路径解释说明加下。
* /usr/sbin/nginx: Nginx 运行文件。
* /etc/nginx/: 配置文件所在目录。
* /usr/share/nginx/: 此目录下包含 HTML静态文件和模块(module).



